<!DOCTYPE html>
<html lang="zh-Hans-CN"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><link rel="stylesheet" type="text/css" href="../../css/modern-norm.min.css"/><link rel="stylesheet" type="text/css" href="../../css/prism.min.css"/><link rel="stylesheet" type="text/css" href="../../css/katex.min.css"/><link rel="stylesheet" type="text/css" href="../../css/wolai.css"/><title>ç½‘é¡µç‰¹æ•ˆ - wolai ç¬”è®°</title><link rel="shortcut icon" href="data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; viewBox=&apos;0 0 800 800&apos;%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fff;%7D%3C/style%3E%3C/defs%3E%3Cg%3E%3Cpath class=&apos;cls-1&apos; d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Z&apos;/%3E%3Cpath d=&apos;M610.08,0c66,0,90,6.88,114.13,19.79a134.62,134.62,0,0,1,56,56l2.28,4.4C793.93,103,800,127.88,800,189.92V610.08l-.08,11.56c-.78,57.38-7.58,79.89-19.71,102.57a134.62,134.62,0,0,1-56,56l-4.4,2.28C697,793.93,672.12,800,610.08,800H189.92l-11.56-.08c-57.38-.78-79.89-7.58-102.57-19.71a134.62,134.62,0,0,1-56-56l-2.28-4.4C6.44,697.75.4,673.72,0,616L0,189.92c0-66,6.88-90,19.79-114.13a134.62,134.62,0,0,1,56-56l4.4-2.28C102.25,6.44,126.28.4,184,0Zm4.72,88.9H185.2L172.42,89c-32.78.62-43.68,3.24-54.71,9.14a45.84,45.84,0,0,0-19.54,19.54c-6.61,12.36-9.11,24.55-9.27,67.49V614.8L89,627.58c.62,32.78,3.24,43.68,9.14,54.71a45.84,45.84,0,0,0,19.54,19.54c12.36,6.61,24.55,9.11,67.49,9.27H610.08c46.79,0,59.41-2.44,72.21-9.28a45.84,45.84,0,0,0,19.54-19.54c6.61-12.36,9.11-24.55,9.27-67.49V189.92c0-46.79-2.44-59.41-9.28-72.21a45.84,45.84,0,0,0-19.54-19.54C669.93,91.56,657.74,89.06,614.8,88.9ZM233.33,493.33A73.34,73.34,0,1,1,160,566.67,73.35,73.35,0,0,1,233.33,493.33Z&apos;/%3E%3C/g%3E%3C/svg%3E"></link></head><body><header><div class="image has" style="background-position-y: 50%; background-image: url(&quot;https://cdn.wostatic.cn/cover/thomas/oqF4PeVaaQSb8hmLgdk4hK.jpg&quot;)"></div><div class="title"><div class="banner"><div data-symbol="ğŸ" class="icon"></div></div><div data-title="ç½‘é¡µç‰¹æ•ˆ" class="main-title"></div></div></header><article><h3 class="bg-vivid_tangerine wolai-block"><span class="inline-wrap">offset</span></h3><div class="wolai-block wolai-center"><figure><img src="media/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202022-02-08%20153951.png" style="width: 760px"/></figure></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">offset<span class="jill"></span>è·å–å€¼   |    style       ä¿®æ”¹å’Œè·å–</span></div></div><div class="wolai-block wolai-center"><figure><img src="media/l0hutuw15bya5y-r5pah5qgjl2ltywdlcy9dc3ncb3hnb2rlbc5wbmc.png" style="width: 756px"/></figure></div><hr class="wolai-block"/><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>mousemove</code></span><span class="inline-wrap">     é¼ æ ‡ç§»åŠ¨</span></div></div><h2 class="wolai-block"><span class="inline-wrap"><u><b>æ¨¡æ€æ¡†</b></u></span><span class="inline-wrap">â—</span></h2><div class="wolai-sub-page wolai-block"><div data-symbol="ğŸ­" class="page-icon"></div><a href="%E6%A8%A1%E6%80%81%E6%A1%86/%E6%A8%A1%E6%80%81%E6%A1%86.html"><span>æ¨¡æ€æ¡†</span></a></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">é¼ æ ‡äº‹ä»¶</span></div></div><div class="wolai-block wolai-center"><figure><img src="media/%E6%AF%94%E7%89%B9%E6%88%AA%E5%9B%BE2022-02-19-10-58-56.png" style="width: 760px"/></figure></div><div class="bg-uranian_blue wolai-block wolai-text"><div><span class="inline-wrap">client</span></div></div><div class="wolai-block wolai-center"><figure><img src="media/%E6%AF%94%E7%89%B9%E6%88%AA%E5%9B%BE2022-02-19-11-40-19.png" style="width: 760px"/></figure></div><div class="bg-uranian_blue wolai-block wolai-text"><div><span class="inline-wrap">ç«‹å³æ‰§è¡Œå‡½æ•°</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>(function() {}) () </code></span><span class="inline-wrap">   æˆ–è€…   </span><span class="inline-wrap"><code>ï¼ˆfunction() {} ()ï¼‰;</code></span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">ç«‹å³æ‰§è¡Œå‡½æ•°æœ€å¤§çš„ä½œç”¨å°±æ˜¯ ç‹¬ç«‹åˆ›å»ºäº†ä¸€ä¸ªä½œç”¨åŸŸ</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>var dpr = window.devicePixelRatio</code></span><span class="inline-wrap">     è·å–å±å¹•åƒç´ æ¯”</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>pageshow</code></span><span class="inline-wrap">     é‡æ–°åŠ è½½é¡µé¢è§¦å‘çš„äº‹ä»¶</span></div></div><div class="bg-pale_purple wolai-block wolai-text"><div><span class="inline-wrap"> scroll</span></div></div><div class="wolai-block wolai-center"><figure><img src="media/%E6%AF%94%E7%89%B9%E6%88%AA%E5%9B%BE2022-02-21-15-55-26.png" style="width: 760px"/></figure></div><div class="bg-lavender_blue wolai-block wolai-text"><div><span class="inline-wrap">ç®€å•çš„åŠ¨ç”»å°è£…</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="CSS" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token selector">// ç®€å•åŠ¨ç”»å‡½æ•°å°è£…objç›®æ ‡å¯¹è±¡ target ç›®æ ‡ä½ç½®
        function animate<span class="token punctuation">(</span>obj<span class="token punctuation">,</span> target<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
            <span class="token selector">var timer = setInterval<span class="token punctuation">(</span>function<span class="token punctuation">(</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
                <span class="token selector">if <span class="token punctuation">(</span>obj<span class="token class">.offsetLeft</span> <span class="token combinator">></span>= target<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
                    // åœæ­¢åŠ¨ç”» æœ¬è´¨æ˜¯åœæ­¢å®šæ—¶å™¨
                    <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                obj.style.left = obj.offsetLeft <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></pre></div></code-block><div class="bg-uranian_blue wolai-block wolai-text"><div><span class="inline-wrap">åŠ¨ç”»<span class="jill"></span>js</span></div></div><div class="wolai-file-block wolai-block"><div class="file-icon" style="background-image: url(&quot;data:image/svg+xml,%3Csvg xmlns=&apos;http://www.w3.org/2000/svg&apos; width=&apos;24&apos; height=&apos;24&apos; viewBox=&apos;0 0 24 24&apos;%3E%3Cpath d=&apos;M12.157 2.2a2.8 2.8 0 011.856.703l.148.142 4.843 4.965a2.8 2.8 0 01.789 1.756l.007.199V19a2.8 2.8 0 01-2.63 2.795L17 21.8H7a2.8 2.8 0 01-2.795-2.63L4.2 19V5a2.8 2.8 0 012.63-2.795L7 2.2h5.157zM11.2 3.8H7a1.2 1.2 0 00-1.194 1.077L5.8 5v14a1.2 1.2 0 001.077 1.194L7 20.2h10a1.2 1.2 0 001.194-1.077L18.2 19v-8.2H13a1.8 1.8 0 01-1.794-1.652L11.2 9V3.8zm1.816.362a1.2 1.2 0 00-.215-.175L12.8 9a.2.2 0 00.147.193L13 9.2h4.923l-.064-.073-4.843-4.965z&apos; fill=&apos;%232C2C2C&apos; fill-rule=&apos;evenodd&apos;%3E%3C/path%3E%3C/svg%3E&quot;);"></div><a href="media/animate.js"><span>animate.js</span><span data-size="1.08 kB" class="file-size"></span></a></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>mouseleave</code></span><span class="inline-wrap">    é¼ æ ‡ç¦»å¼€</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>mouseenter</code></span><span class="inline-wrap">     é¼ æ ‡ç»è¿‡</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>window.addEventListener(&#39;load&#39;,function() {})</code></span><span class="inline-wrap">      é¡µé¢åŠ è½½å®Œåœ¨æ‰§è¡Œ<span class="jill"></span>js</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap"><code>arrow_r.click();</code></span><span class="inline-wrap">     æ‰‹åŠ¨è°ƒç”¨äº‹ä»¶</span></div></div><div class="bg-lavender_blue wolai-block wolai-text"><div><span class="inline-wrap">è½®æ’­å›¾</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. è·å–å…ƒç´ </span>
    <span class="token keyword">var</span> arrow_l <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.arrow-l'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> arrow_r <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.arrow-r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> focus <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.focus'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> focusWidth <span class="token operator">=</span> focus<span class="token punctuation">.</span><span class="token property-access">offsetWidth</span><span class="token punctuation">;</span>
    <span class="token comment">// 2. é¼ æ ‡ç»è¿‡focus å°±æ˜¾ç¤ºéšè—å·¦å³æŒ‰é’®</span>
    focus<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseenter'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        arrow_l<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
        arrow_r<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> <span class="token string">'block'</span><span class="token punctuation">;</span>
        <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        timer <span class="token operator">=</span> <span class="token keyword null nil">null</span><span class="token punctuation">;</span> <span class="token comment">// æ¸…é™¤å®šæ—¶å™¨å˜é‡</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    focus<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseleave'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        arrow_l<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
        arrow_r<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">display</span> <span class="token operator">=</span> <span class="token string">'none'</span><span class="token punctuation">;</span>
        timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//æ‰‹åŠ¨è°ƒç”¨ç‚¹å‡»äº‹ä»¶</span>
            arrow_r<span class="token punctuation">.</span><span class="token method function property-access">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3. åŠ¨æ€ç”Ÿæˆå°åœ†åœˆ  æœ‰å‡ å¼ å›¾ç‰‡ï¼Œæˆ‘å°±ç”Ÿæˆå‡ ä¸ªå°åœ†åœˆ</span>
    <span class="token keyword">var</span> ul <span class="token operator">=</span> focus<span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'ul'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> ol <span class="token operator">=</span> focus<span class="token punctuation">.</span><span class="token method function property-access">querySelector</span><span class="token punctuation">(</span><span class="token string">'.circle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// console.log(ul.children.length);</span>
    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ul<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// åˆ›å»ºä¸€ä¸ªå°li </span>
        <span class="token keyword">var</span> li <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®°å½•å½“å‰å°åœ†åœˆçš„ç´¢å¼•å· é€šè¿‡è‡ªå®šä¹‰å±æ€§æ¥åš </span>
        li<span class="token punctuation">.</span><span class="token method function property-access">setAttribute</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æŠŠå°liæ’å…¥åˆ°ol é‡Œé¢</span>
        ol<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 4. å°åœ†åœˆçš„æ’ä»–æ€æƒ³ æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨ç”Ÿæˆå°åœ†åœˆçš„åŒæ—¶ç›´æ¥ç»‘å®šç‚¹å‡»äº‹ä»¶</span>
        li<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// å¹²æ‰æ‰€æœ‰äºº æŠŠæ‰€æœ‰çš„å°li æ¸…é™¤ current ç±»å</span>
            <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ol<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                ol<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">className</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// ç•™ä¸‹æˆ‘è‡ªå·±  å½“å‰çš„å°li è®¾ç½®current ç±»å</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">className</span> <span class="token operator">=</span> <span class="token string">'current'</span><span class="token punctuation">;</span>
            <span class="token comment">// 5. ç‚¹å‡»å°åœ†åœˆï¼Œç§»åŠ¨å›¾ç‰‡ å½“ç„¶ç§»åŠ¨çš„æ˜¯ ul </span>
            <span class="token comment">// ul çš„ç§»åŠ¨è·ç¦» å°åœ†åœˆçš„ç´¢å¼•å· ä¹˜ä»¥ å›¾ç‰‡çš„å®½åº¦ æ³¨æ„æ˜¯è´Ÿå€¼</span>
            <span class="token comment">// å½“æˆ‘ä»¬ç‚¹å‡»äº†æŸä¸ªå°li å°±æ‹¿åˆ°å½“å‰å°li çš„ç´¢å¼•å·</span>
            <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">getAttribute</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å½“æˆ‘ä»¬ç‚¹å‡»äº†æŸä¸ªå°li å°±è¦æŠŠè¿™ä¸ªli çš„ç´¢å¼•å·ç»™ num  </span>
            num <span class="token operator">=</span> index<span class="token punctuation">;</span>
            <span class="token comment">// å½“æˆ‘ä»¬ç‚¹å‡»äº†æŸä¸ªå°li å°±è¦æŠŠè¿™ä¸ªli çš„ç´¢å¼•å·ç»™ circle  </span>
            circle <span class="token operator">=</span> index<span class="token punctuation">;</span>
            <span class="token comment">// num = circle = index;</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>focusWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token function">animate</span><span class="token punctuation">(</span>ul<span class="token punctuation">,</span> <span class="token operator">-</span>index <span class="token operator">*</span> focusWidth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// æŠŠolé‡Œé¢çš„ç¬¬ä¸€ä¸ªå°liè®¾ç½®ç±»åä¸º current</span>
    ol<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">className</span> <span class="token operator">=</span> <span class="token string">'current'</span><span class="token punctuation">;</span>
    <span class="token comment">// 6. å…‹éš†ç¬¬ä¸€å¼ å›¾ç‰‡(li)æ”¾åˆ°ul æœ€åé¢</span>
    <span class="token keyword">var</span> first <span class="token operator">=</span> ul<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token method function property-access">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ul<span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 7. ç‚¹å‡»å³ä¾§æŒ‰é’®ï¼Œ å›¾ç‰‡æ»šåŠ¨ä¸€å¼ </span>
    <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// circle æ§åˆ¶å°åœ†åœˆçš„æ’­æ”¾</span>
    <span class="token keyword">var</span> circle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// flag èŠ‚æµé˜€</span>
    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    arrow_r<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// å…³é—­èŠ‚æµé˜€</span>
            <span class="token comment">// å¦‚æœèµ°åˆ°äº†æœ€åå¤åˆ¶çš„ä¸€å¼ å›¾ç‰‡ï¼Œæ­¤æ—¶ æˆ‘ä»¬çš„ul è¦å¿«é€Ÿå¤åŸ left æ”¹ä¸º 0</span>
            <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>num <span class="token operator">==</span> ul<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                ul<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">left</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
                num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            num<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token function">animate</span><span class="token punctuation">(</span>ul<span class="token punctuation">,</span> <span class="token operator">-</span>num <span class="token operator">*</span> focusWidth<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“å¼€èŠ‚æµé˜€</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 8. ç‚¹å‡»å³ä¾§æŒ‰é’®ï¼Œå°åœ†åœˆè·Ÿéšä¸€èµ·å˜åŒ– å¯ä»¥å†å£°æ˜ä¸€ä¸ªå˜é‡æ§åˆ¶å°åœ†åœˆçš„æ’­æ”¾</span>
            circle<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token comment">// å¦‚æœcircle == 4 è¯´æ˜èµ°åˆ°æœ€åæˆ‘ä»¬å…‹éš†çš„è¿™å¼ å›¾ç‰‡äº† æˆ‘ä»¬å°±å¤åŸ</span>
            <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>circle <span class="token operator">==</span> ol<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                circle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// è°ƒç”¨å‡½æ•°</span>
            <span class="token function">circleChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 9. å·¦ä¾§æŒ‰é’®åšæ³•</span>
    arrow_l<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                num <span class="token operator">=</span> ul<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
                ul<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">left</span> <span class="token operator">=</span> <span class="token operator">-</span>num <span class="token operator">*</span> focusWidth <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span>
            num<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token function">animate</span><span class="token punctuation">(</span>ul<span class="token punctuation">,</span> <span class="token operator">-</span>num <span class="token operator">*</span> focusWidth<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// ç‚¹å‡»å·¦ä¾§æŒ‰é’®ï¼Œå°åœ†åœˆè·Ÿéšä¸€èµ·å˜åŒ– å¯ä»¥å†å£°æ˜ä¸€ä¸ªå˜é‡æ§åˆ¶å°åœ†åœˆçš„æ’­æ”¾</span>
            circle<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token comment">// å¦‚æœcircle &lt; 0  è¯´æ˜ç¬¬ä¸€å¼ å›¾ç‰‡ï¼Œåˆ™å°åœ†åœˆè¦æ”¹ä¸ºç¬¬4ä¸ªå°åœ†åœˆï¼ˆ3ï¼‰</span>
            <span class="token comment">// if (circle &lt; 0) {</span>
            <span class="token comment">//     circle = ol.children.length - 1;</span>
            <span class="token comment">// }</span>
            circle <span class="token operator">=</span> circle <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> ol<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">:</span> circle<span class="token punctuation">;</span>
            <span class="token comment">// è°ƒç”¨å‡½æ•°</span>
            <span class="token function">circleChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">circleChange</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å…ˆæ¸…é™¤å…¶ä½™å°åœ†åœˆçš„currentç±»å</span>
        <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> ol<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            ol<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">className</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// ç•™ä¸‹å½“å‰çš„å°åœ†åœˆçš„currentç±»å</span>
        ol<span class="token punctuation">.</span><span class="token property-access">children</span><span class="token punctuation">[</span>circle<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token property-access">className</span> <span class="token operator">=</span> <span class="token string">'current'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 10. è‡ªåŠ¨æ’­æ”¾è½®æ’­å›¾</span>
    <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//æ‰‹åŠ¨è°ƒç”¨ç‚¹å‡»äº‹ä»¶</span>
        arrow_r<span class="token punctuation">.</span><span class="token method function property-access">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span></pre></div></code-block><div class="bg-uranian_blue wolai-block wolai-text"><div><span class="inline-wrap">èŠ‚æµé˜€</span></div></div><div class="wolai-block wolai-text"><div><span class="inline-wrap">åˆ©ç”¨å›è°ƒå‡½æ•°æ·»åŠ ä¸€ä¸ªå˜é‡æ¥æ§åˆ¶ï¼Œé”ä½å‡½æ•°å’Œè§£é”å‡½æ•°</span></div></div><code-block class="wolai-block"><div class="wolai-pre"><div data-lang="JavaScript" class="marker"></div><pre style="white-space: pre-wrap; word-break: break-all"> <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
 <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// å…³é—­èŠ‚æµé˜€</span>
            <span class="token comment">//æ‰§è¡Œä»£ç </span>
            <span class="token function">animate</span><span class="token punctuation">(</span>ul<span class="token punctuation">,</span> <span class="token operator">-</span>num <span class="token operator">*</span> focusWidth<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></pre></div></code-block><div class="wolai-block wolai-text"><div></div></div></article><footer></footer></body></html>